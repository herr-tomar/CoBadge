package osplus.pkp.dto.model;

public class ProtoFieldModel {

    private final String protoType;
    private final String name;

    public ProtoFieldModel(String protoType, String name) {
        this.protoType = protoType;
        this.name = name;
    }

    public String getProtoType() {
        return protoType;
    }

    public String getName() {
        return name;
    }

    public String getJavaType() {
        return switch (protoType) {
            case "string" -> "String";
            case "bool" -> "Boolean";
            case "int32", "sint32", "uint32", "fixed32" -> "Integer";
            case "int64", "sint64", "uint64", "fixed64" -> "Long";
            case "float" -> "Float";
            case "double" -> "Double";
            case "bytes" -> "byte[]";
            case "google.protobuf.Timestamp" -> "java.time.Instant";
            default -> protoType.endsWith("Dto") ? protoType : "Object"; // fallback or nested type
        };
    }

    public boolean isCustomType() {
        return !protoType.matches("string|bool|int32|sint32|uint32|fixed32|int64|sint64|uint64|fixed64|float|double|bytes|google.protobuf.Timestamp");
    }

    public boolean isRepeated() {
        return false; // can be updated later if 'repeated' modifier is parsed
    }
}
