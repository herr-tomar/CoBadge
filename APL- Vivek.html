syntax = "proto3";

package osplus.pkptuna.dispute.lookup.model;

option java_package = "osplus.pkptuna.dispute.lookup.model";
option java_outer_classname = "DisputeLookupProto";
option java_multiple_files = true;

// -----Vom Orchestrator gesendetes DTO
message DisputeLookupRequestWrapperDto {
  string correlationId = 1;
  DisputeLookupRequestDto payload = 2;
}

message DisputeLookupRequestDto {
  DisputeLookupRequestMetadataDto metadata = 1;
  string issuerId = 2;
  string cardReference = 3;
}

message DisputeLookupRequestMetadataDto {
  string requestChannel = 1;
  string messageType = 2;
  string requestedBy = 3;
  string businessContext = 4;
}

// -----Umgewandelte DTO für die Rückkehr zum Orchestrator vorgesehen
message DisputeLookupResponseWrapperDto {
  string correlationId = 1;
  DisputeLookupResponseDto response = 2;
}

message DisputeLookupResponseDto {
  bool disputeFolderExists = 1;
  repeated DisputeFolderEntryDto disputeFolders = 2;
}

message DisputeFolderEntryDto {
  string disputeFolderReference = 1;
  string statusCode = 2;
}

// -----DTO für die vom IBO- Dispute-Lookup-Aufruf abgerufene Antwort
message FullDisputeLookupResponseDto {
  ResponseMetadataDto responseMetadata = 1;
  repeated DisputeFolderDataDto data = 2;
}

message ResponseMetadataDto {
  string correlationId = 1;
  int32 statusCode = 2;
  string statusMessage = 3;
  string responseDateTime = 4;
  int32 timeTakenMs = 5;
}

message DisputeFolderDataDto {
  DisputeFolderIdentifierDto disputeFolderIdentifier = 1;
  string statusCode = 2;
}

message DisputeFolderIdentifierDto {
  string disputeFolderReference = 1;
}


