import java.util.concurrent.*;

public class DisputeResponseTracker {
    private static final ConcurrentMap<String, CompletableFuture<DisputeLookupResponseDto>> pending = new ConcurrentHashMap<>();

    public static void register(String correlationId) {
        pending.put(correlationId, new CompletableFuture<>());
    }

    public static void complete(String correlationId, DisputeLookupResponseDto response) {
        CompletableFuture<DisputeLookupResponseDto> future = pending.remove(correlationId);
        if (future != null) {
            future.complete(response);
        }
    }

    public static CompletableFuture<DisputeLookupResponseDto> await(String correlationId) {
        return pending.get(correlationId);
    }
}
