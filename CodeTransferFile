In der aktuellen Logik wird der Betrag nicht pauschal immer aus der reklamierten Position gesetzt, sondern hängt von den im Mapping definierten Bedingungen ab:

Für refundRedebitAmount (Mapping-Zeile 2) gilt: Dieser wird nur gesetzt, wenn reklaTeilbetragKz = 'J' (also „PARTIAL“). In diesem Fall kommen die Werte aus reklaBetrag und reklaBetragWs (inkl. Währungsnormalisierung und Exponent). Bei „FULL“ bleibt dieses Feld leer.

Für disputePostings[].postingAmount (Mapping-Zeile 5) gilt:

Primär wird versucht, crdVfggOrigBtrg + crdVfggOrigWs zu verwenden (immer – egal ob FULL oder PARTIAL).

Falls diese leer sind und es sich um PARTIAL handelt, wird auf reklaBetrag + reklaBetragWs zurückgegriffen.

Gibt es weder Originalbetrag noch (bei PARTIAL) den Teilbetrag, wird kein Posting angelegt.

Die Events (Zeile 8) greifen ebenfalls nur auf den Teilbetrag zu, wenn PARTIAL.
