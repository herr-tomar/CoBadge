    @Test
    public void testNotLeaderDoesNotSubscribeToTopics() throws Exception {
        testCollector.clear();

        long now = System.currentTimeMillis();
        heartbeatMap.put("heartbeat", now);
        leaderMap.put("active-router", "another-instance"); // simulate another leader

        router.setRouterInstanceId("test-router-instance");
        router.initRouters();

        String topicName = flowConfig.requestTopic();
        topic = hazelcastInstance.getReliableTopic(topicName);

        topic.publish("{\"key\":\"value\"}".getBytes());
        Thread.sleep(300);

        // ‚ùó assertTrue if collector did NOT record anything
        assertFalse(testCollector.wasSent("res-topic"), "Non-leader router should not route or respond");
    }
