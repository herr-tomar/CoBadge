private static void generateDto(Template dtoTemplate, File outputDir, ProtoMessageModel model) throws IOException {
    String protoPackage = model.getProtoPackageName(); // safer and guaranteed set
    String restPackage = insertRestInPackage(protoPackage); 

    String dtoPath = restPackage.replace('.', '/');
    File dtoDir = new File(outputDir, dtoPath);
    dtoDir.mkdirs();

    Map<String, Object> dtoData = new HashMap<>();
    dtoData.put(KEY_PACKAGE_NAME, restPackage);
    dtoData.put(KEY_CLASS_NAME, model.getClassName());
    dtoData.put(KEY_FIELDS, model.getFields());

    File dtoFile = new File(dtoDir, model.getClassName() + ".java");
    TemplateWriterUtil.writeTemplate(dtoTemplate, dtoData, dtoFile);
}


----

String protoPackage = model.getProtoPackageName(); // not getPackageName()
String restPackage = insertRestInPackage(protoPackage);
String mapperPackage = restPackage + ".mapper";

mapperData.put(KEY_PROTO_DTO_PACKAGE, protoPackage);
