await()
        .atMost(2, TimeUnit.SECONDS)
        .pollInterval(100, TimeUnit.MILLISECONDS)
        .untilAsserted(() -> {
            assertTrue(testCollector.wasSent("res-topic"), "Expected message to be routed and response sent");
            assertEquals("wrappedResponse", testCollector.getSent("res-topic"));
        });
