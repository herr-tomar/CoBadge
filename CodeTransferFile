@Test
void assertThatLookupDisputeFolderReturnsExpectedResult() throws Exception {
    // Build responseMetadata
    ResponseMetadataDto metadata = ResponseMetadataDto.newBuilder()
            .setCorrelationId("test-correlation-id")
            .setStatusCode(200)
            .setStatusMessage("Executed successfully")
            .build();

    // Build disputeFolderIdentifier with only existing fields
    DisputeFolderIdentifierDto folderIdentifier = DisputeFolderIdentifierDto.newBuilder()
            .setDisputeFolderReference("116855")
            .build();

    // Build folder data
    DisputeFolderDataDto folderData = DisputeFolderDataDto.newBuilder()
            .setDisputeFolderIdentifier(folderIdentifier)
            .setStatusCode("OPEN")
            .build();

    // Build full response
    FullDisputeLookupResponseDto fullResponse = FullDisputeLookupResponseDto.newBuilder()
            .setResponseMetadata(metadata)
            .addData(folderData)
            .build();

    // Convert proto to JSON
    String jsonResponse = JsonFormat.printer()
            .includingDefaultValueFields()
            .print(fullResponse);

    // Enqueue mock response
    mockWebServer.enqueue(new MockResponse()
            .setResponseCode(200)
            .setBody(jsonResponse));

    // Call the service
    DisputeLookupResponseDto result = disputeService.lookupDisputeFolder("1001", "CARD123");

    // Assertions
    assertThat(result).isNotNull();
    assertThat(result.getDisputeFolderExists()).as("Expected folder data presence").isTrue();
    assertThat(result.getDisputeFoldersCount()).isEqualTo(1);
    assertThat(result.getDisputeFolders(0).getDisputeFolderReference()).isEqualTo("116855");
    assertThat(result.getDisputeFolders(0).getStatusCode()).isEqualTo("OPEN");
}

---

@Test
void assertThatLookupDisputeFolderReturnsEmptyResult() throws Exception {
    // Build responseMetadata
    ResponseMetadataDto metadata = ResponseMetadataDto.newBuilder()
            .setCorrelationId("test-correlation-id")
            .setStatusCode(200)
            .setStatusMessage("Executed successfully")
            .build();

    // Build full response with empty data list
    FullDisputeLookupResponseDto fullResponse = FullDisputeLookupResponseDto.newBuilder()
            .setResponseMetadata(metadata)
            .build();

    // Convert proto to JSON
    String jsonResponse = JsonFormat.printer()
            .includingDefaultValueFields()
            .print(fullResponse);

    // Enqueue mock response
    mockWebServer.enqueue(new MockResponse()
            .setResponseCode(200)
            .setBody(jsonResponse));

    // Call the service
    DisputeLookupResponseDto result = disputeService.lookupDisputeFolder("1001", "CARD123");

    // Assertions
    assertThat(result).isNotNull();
    assertThat(result.getDisputeFolderExists()).isFalse();
    assertThat(result.getDisputeFoldersCount()).isEqualTo(0);
}

