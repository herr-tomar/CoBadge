await()
    .atMost(5, TimeUnit.SECONDS)
    .pollInterval(100, TimeUnit.MILLISECONDS)
    .untilAsserted(() -> {
        assertTrue(testCollector.wasSent(flowConfig.responseTopic()));
        assertFalse(requestMap.containsKey(correlationId));
        assertFalse(routerMap.containsKey("route-lock-" + correlationId));
    });
