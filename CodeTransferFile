await()
    .atMost(3, TimeUnit.SECONDS)
    .pollInterval(50, TimeUnit.MILLISECONDS)
    .untilAsserted(() -> {
        assertTrue(targetMap.containsKey(corrId), "Expected message to be written to map");
        assertTrue(routerMap.containsKey("route-lock-" + corrId), "Expected route-lock to be created");
    });
